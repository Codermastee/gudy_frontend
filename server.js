const express = require('express');
const cors = require('cors');
const bcrypt = require('bcryptjs');
const jwt = require('jsonwebtoken');
const axios = require('axios');
const { neon } = require('@neondatabase/serverless');
const { drizzle } = require('drizzle-orm/neon-http');
const { eq, and, desc } = require('drizzle-orm');
const { users, products, orders, cartItems } = require('./schema');
require('dotenv').config();

const app = express();
const PORT = process.env.PORT || 5000;
const JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key';
const GROQ_API_KEY = process.env.GROQ_API_KEY;

// Neon Connection
const sql = neon(process.env.DATABASE_URL);
const db = drizzle(sql);

app.use(cors());
app.use(express.json());

// Auth Middleware
const authenticateToken = async (req, res, next) => {
  try {
    const authHeader = req.headers['authorization'];
    const token = authHeader && authHeader.split(' ')[1];
    if (!token) return res.status(401).json({ message: 'Token required' });

    const decoded = jwt.verify(token, JWT_SECRET);
    const [user] = await db.select().from(users).where(eq(users.id, decoded.userId));
    if (!user) return res.status(401).json({ message: 'User not found' });
    req.user = user;
    next();
  } catch (error) {
    res.status(403).json({ message: 'Invalid token' });
  }
};

// ==================== EXPANDED MULTI-LANGUAGE SUPPORT ====================

const translations = {
  // ENGLISH
  en: {
    greeting: "Hello! ðŸ‘‹ Welcome to GUDY! I'm here to help you with our premium jaggery products. How can I assist you today?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'Monday to Saturday, 9 AM - 6 PM'
    },
    faqs: {
      shipping: 'We offer FREE shipping on all orders above â‚¹299. For orders below â‚¹299, standard shipping charges of â‚¹40 apply.',
      delivery: 'Delivery typically takes 3-7 business days depending on your location. Metro cities receive orders within 3-4 days.',
      cod: 'Yes! We accept Cash on Delivery (COD) for all orders. You can also pay online using UPI, cards, or net banking.',
      returns: 'We have a 7-day return policy. If you receive a damaged or defective product, contact us within 7 days for a replacement or refund.',
      storage: 'Store in a cool, dry place in an airtight container. Keep away from moisture to prevent hardening.',
      expiry: 'Our jaggery products have a shelf life of 12 months from the date of manufacturing when stored properly.',
      organic: 'Yes, our jaggery is made from 100% organic sugarcane grown without pesticides or chemicals.',
      bulk: 'Yes! For bulk orders above 50kg, please contact us for special pricing. WhatsApp: +91 9876543210'
    }
  },
  
  // HINDI - à¤¹à¤¿à¤‚à¤¦à¥€
  hi: {
    greeting: "à¤¨à¤®à¤¸à¥à¤¤à¥‡! ðŸ‘‹ GUDY à¤®à¥‡à¤‚ à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ! à¤®à¥ˆà¤‚ à¤¯à¤¹à¤¾à¤ à¤†à¤ªà¤•à¥€ à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤® à¤—à¥à¤¡à¤¼ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤®à¥‡à¤‚ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤•à¥‡ à¤²à¤¿à¤ à¤¹à¥‚à¤à¥¤ à¤®à¥ˆà¤‚ à¤†à¤ªà¤•à¥€ à¤•à¥ˆà¤¸à¥‡ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¤¾ à¤¹à¥‚à¤?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'à¤¸à¥‹à¤®à¤µà¤¾à¤° à¤¸à¥‡ à¤¶à¤¨à¤¿à¤µà¤¾à¤°, à¤¸à¥à¤¬à¤¹ 9 à¤¬à¤œà¥‡ - à¤¶à¤¾à¤® 6 à¤¬à¤œà¥‡'
    },
    faqs: {
      shipping: 'â‚¹299 à¤¸à¥‡ à¤…à¤§à¤¿à¤• à¤•à¥‡ à¤¸à¤­à¥€ à¤‘à¤°à¥à¤¡à¤° à¤ªà¤° à¤®à¥à¤«à¥à¤¤ à¤¶à¤¿à¤ªà¤¿à¤‚à¤—à¥¤ â‚¹299 à¤¸à¥‡ à¤•à¤® à¤•à¥‡ à¤‘à¤°à¥à¤¡à¤° à¤ªà¤° â‚¹40 à¤¶à¤¿à¤ªà¤¿à¤‚à¤— à¤¶à¥à¤²à¥à¤• à¤²à¤¾à¤—à¥‚ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆà¥¤',
      delivery: 'à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€ à¤®à¥‡à¤‚ à¤†à¤®à¤¤à¥Œà¤° à¤ªà¤° à¤†à¤ªà¤•à¥‡ à¤¸à¥à¤¥à¤¾à¤¨ à¤•à¥‡ à¤†à¤§à¤¾à¤° à¤ªà¤° 3-7 à¤µà¥à¤¯à¤¾à¤µà¤¸à¤¾à¤¯à¤¿à¤• à¤¦à¤¿à¤¨ à¤²à¤—à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤ à¤®à¥‡à¤Ÿà¥à¤°à¥‹ à¤¶à¤¹à¤°à¥‹à¤‚ à¤®à¥‡à¤‚ 3-4 à¤¦à¤¿à¤¨à¥‹à¤‚ à¤®à¥‡à¤‚ à¤‘à¤°à¥à¤¡à¤° à¤®à¤¿à¤²à¤¤à¤¾ à¤¹à¥ˆà¥¤',
      cod: 'à¤¹à¤¾à¤‚! à¤¹à¤® à¤¸à¤­à¥€ à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥ˆà¤¶ à¤‘à¤¨ à¤¡à¤¿à¤²à¥€à¤µà¤°à¥€ (COD) à¤¸à¥à¤µà¥€à¤•à¤¾à¤° à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤ à¤†à¤ª UPI, à¤•à¤¾à¤°à¥à¤¡ à¤¯à¤¾ à¤¨à¥‡à¤Ÿ à¤¬à¥ˆà¤‚à¤•à¤¿à¤‚à¤— à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤•à¥‡ à¤‘à¤¨à¤²à¤¾à¤‡à¤¨ à¤­à¥€ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤° à¤¸à¤•à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤',
      returns: 'à¤¹à¤®à¤¾à¤°à¥‡ à¤ªà¤¾à¤¸ 7 à¤¦à¤¿à¤¨ à¤•à¥€ à¤°à¤¿à¤Ÿà¤°à¥à¤¨ à¤ªà¥‰à¤²à¤¿à¤¸à¥€ à¤¹à¥ˆà¥¤ à¤¯à¤¦à¤¿ à¤†à¤ªà¤•à¥‹ à¤•à¥à¤·à¤¤à¤¿à¤—à¥à¤°à¤¸à¥à¤¤ à¤¯à¤¾ à¤¦à¥‹à¤·à¤ªà¥‚à¤°à¥à¤£ à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤®à¤¿à¤²à¤¤à¤¾ à¤¹à¥ˆ, à¤¤à¥‹ à¤ªà¥à¤°à¤¤à¤¿à¤¸à¥à¤¥à¤¾à¤ªà¤¨ à¤¯à¤¾ à¤°à¤¿à¤«à¤‚à¤¡ à¤•à¥‡ à¤²à¤¿à¤ 7 à¤¦à¤¿à¤¨à¥‹à¤‚ à¤•à¥‡ à¤­à¥€à¤¤à¤° à¤¹à¤®à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤',
      storage: 'à¤à¤¯à¤°à¤Ÿà¤¾à¤‡à¤Ÿ à¤•à¤‚à¤Ÿà¥‡à¤¨à¤° à¤®à¥‡à¤‚ à¤ à¤‚à¤¡à¥€, à¤¸à¥‚à¤–à¥€ à¤œà¤—à¤¹ à¤ªà¤° à¤¸à¥à¤Ÿà¥‹à¤° à¤•à¤°à¥‡à¤‚à¥¤ à¤¸à¤–à¥à¤¤ à¤¹à¥‹à¤¨à¥‡ à¤¸à¥‡ à¤°à¥‹à¤•à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤¨à¤®à¥€ à¤¸à¥‡ à¤¦à¥‚à¤° à¤°à¤–à¥‡à¤‚à¥¤',
      expiry: 'à¤¹à¤®à¤¾à¤°à¥‡ à¤—à¥à¤¡à¤¼ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¥‹à¤‚ à¤•à¥€ à¤¶à¥‡à¤²à¥à¤« à¤²à¤¾à¤‡à¤« à¤¨à¤¿à¤°à¥à¤®à¤¾à¤£ à¤•à¥€ à¤¤à¤¾à¤°à¥€à¤– à¤¸à¥‡ 12 à¤®à¤¹à¥€à¤¨à¥‡ à¤¹à¥ˆ à¤œà¤¬ à¤‰à¤šà¤¿à¤¤ à¤°à¥‚à¤ª à¤¸à¥‡ à¤¸à¤‚à¤—à¥à¤°à¤¹à¥€à¤¤ à¤•à¤¿à¤¯à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤',
      organic: 'à¤¹à¤¾à¤‚, à¤¹à¤®à¤¾à¤°à¤¾ à¤—à¥à¤¡à¤¼ 100% à¤œà¥ˆà¤µà¤¿à¤• à¤—à¤¨à¥à¤¨à¥‡ à¤¸à¥‡ à¤¬à¤¨à¤¾à¤¯à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆ à¤œà¥‹ à¤¬à¤¿à¤¨à¤¾ à¤•à¥€à¤Ÿà¤¨à¤¾à¤¶à¤•à¥‹à¤‚ à¤¯à¤¾ à¤°à¤¸à¤¾à¤¯à¤¨à¥‹à¤‚ à¤•à¥‡ à¤‰à¤—à¤¾à¤¯à¤¾ à¤œà¤¾à¤¤à¤¾ à¤¹à¥ˆà¥¤',
      bulk: 'à¤¹à¤¾à¤‚! 50 à¤•à¤¿à¤²à¥‹ à¤¸à¥‡ à¤…à¤§à¤¿à¤• à¤•à¥‡ à¤¥à¥‹à¤• à¤‘à¤°à¥à¤¡à¤° à¤•à¥‡ à¤²à¤¿à¤, à¤µà¤¿à¤¶à¥‡à¤· à¤®à¥‚à¤²à¥à¤¯ à¤¨à¤¿à¤°à¥à¤§à¤¾à¤°à¤£ à¤•à¥‡ à¤²à¤¿à¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤¹à¤®à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤ WhatsApp: +91 9876543210'
    }
  },
  
  // TAMIL - à®¤à®®à®¿à®´à¯
  ta: {
    greeting: "à®µà®£à®•à¯à®•à®®à¯! ðŸ‘‹ GUDY-à®•à¯à®•à¯ à®µà®°à®µà¯‡à®±à¯à®•à®¿à®±à¯‹à®®à¯! à®Žà®™à¯à®•à®³à¯ à®ªà®¿à®°à¯€à®®à®¿à®¯à®®à¯ à®µà¯†à®²à¯à®²à®®à¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à®¿à®²à¯ à®‰à®™à¯à®•à®³à¯à®•à¯à®•à¯ à®‰à®¤à®µ à®¨à®¾à®©à¯ à®‡à®™à¯à®•à¯‡ à®‡à®°à¯à®•à¯à®•à®¿à®±à¯‡à®©à¯. à®¨à®¾à®©à¯ à®Žà®ªà¯à®ªà®Ÿà®¿ à®‰à®¤à®µ à®®à¯à®Ÿà®¿à®¯à¯à®®à¯?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'à®¤à®¿à®™à¯à®•à®³à¯ à®®à¯à®¤à®²à¯ à®šà®©à®¿, à®•à®¾à®²à¯ˆ 9 à®®à®£à®¿ - à®®à®¾à®²à¯ˆ 6 à®®à®£à®¿'
    },
    faqs: {
      shipping: 'â‚¹299 à®•à¯à®•à¯ à®®à¯‡à®²à¯ à®…à®©à¯ˆà®¤à¯à®¤à¯ à®†à®°à¯à®Ÿà®°à¯à®•à®³à¯à®•à¯à®•à¯à®®à¯ à®‡à®²à®µà®š à®·à®¿à®ªà¯à®ªà®¿à®™à¯. â‚¹299 à®•à¯à®•à¯ à®•à¯à®±à¯ˆà®µà®¾à®© à®†à®°à¯à®Ÿà®°à¯à®•à®³à¯à®•à¯à®•à¯ â‚¹40 à®·à®¿à®ªà¯à®ªà®¿à®™à¯ à®•à®Ÿà¯à®Ÿà®£à®®à¯ à®ªà¯Šà®°à¯à®¨à¯à®¤à¯à®®à¯.',
      delivery: 'à®‰à®™à¯à®•à®³à¯ à®‡à®Ÿà®¤à¯à®¤à¯ˆà®ªà¯ à®ªà¯Šà®±à¯à®¤à¯à®¤à¯ à®ªà¯Šà®¤à¯à®µà®¾à®• à®Ÿà¯†à®²à®¿à®µà®°à®¿à®•à¯à®•à¯ 3-7 à®µà®£à®¿à®• à®¨à®¾à®Ÿà¯à®•à®³à¯ à®†à®•à¯à®®à¯. à®®à¯†à®Ÿà¯à®°à¯‹ à®¨à®•à®°à®™à¯à®•à®³à¯ 3-4 à®¨à®¾à®Ÿà¯à®•à®³à®¿à®²à¯ à®†à®°à¯à®Ÿà®°à¯à®•à®³à¯ˆà®ªà¯ à®ªà¯†à®±à¯à®•à®¿à®©à¯à®±à®©.',
      cod: 'à®†à®®à¯! à®…à®©à¯ˆà®¤à¯à®¤à¯ à®†à®°à¯à®Ÿà®°à¯à®•à®³à¯à®•à¯à®•à¯à®®à¯ à®•à¯‡à®·à¯ à®†à®©à¯ à®Ÿà¯†à®²à®¿à®µà®°à®¿ (COD) à®à®±à¯à®±à¯à®•à¯à®•à¯Šà®³à¯à®•à®¿à®±à¯‹à®®à¯. UPI, à®•à®¾à®°à¯à®Ÿà¯à®•à®³à¯ à®…à®²à¯à®²à®¤à¯ à®¨à¯†à®Ÿà¯ à®ªà¯‡à®™à¯à®•à®¿à®™à¯ à®ªà®¯à®©à¯à®ªà®Ÿà¯à®¤à¯à®¤à®¿ à®†à®©à¯à®²à¯ˆà®©à®¿à®²à¯ à®ªà®£à®®à¯ à®šà¯†à®²à¯à®¤à¯à®¤à®²à®¾à®®à¯.',
      returns: 'à®Žà®™à¯à®•à®³à®¿à®Ÿà®®à¯ 7 à®¨à®¾à®³à¯ à®¤à®¿à®°à¯à®®à¯à®ªà®ªà¯ à®ªà¯†à®±à¯à®®à¯ à®•à¯Šà®³à¯à®•à¯ˆ à®‰à®³à¯à®³à®¤à¯. à®šà¯‡à®¤à®®à®Ÿà¯ˆà®¨à¯à®¤ à®…à®²à¯à®²à®¤à¯ à®•à¯à®±à¯ˆà®ªà®¾à®Ÿà¯à®³à¯à®³ à®¤à®¯à®¾à®°à®¿à®ªà¯à®ªà¯ à®•à®¿à®Ÿà¯ˆà®¤à¯à®¤à®¾à®²à¯, à®®à®¾à®±à¯à®±à¯ à®…à®²à¯à®²à®¤à¯ à®ªà®£à®¤à¯à®¤à®¿à®°à¯à®ªà¯à®ªà®¿à®•à¯à®•à¯ 7 à®¨à®¾à®Ÿà¯à®•à®³à¯à®•à¯à®•à¯à®³à¯ à®Žà®™à¯à®•à®³à¯ˆà®¤à¯ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à®µà¯à®®à¯.',
      storage: 'à®•à®¾à®±à¯à®±à¯ à®ªà¯à®•à®¾à®¤ à®•à¯Šà®³à¯à®•à®²à®©à®¿à®²à¯ à®•à¯à®³à®¿à®°à¯à®¨à¯à®¤, à®µà®±à®£à¯à®Ÿ à®‡à®Ÿà®¤à¯à®¤à®¿à®²à¯ à®šà¯‡à®®à®¿à®•à¯à®•à®µà¯à®®à¯. à®•à®Ÿà®¿à®©à®®à®¾à®µà®¤à¯ˆà®¤à¯ à®¤à®Ÿà¯à®•à¯à®• à®ˆà®°à®ªà¯à®ªà®¤à®¤à¯à®¤à®¿à®²à®¿à®°à¯à®¨à¯à®¤à¯ à®µà®¿à®²à®•à®¿ à®µà¯ˆà®•à¯à®•à®µà¯à®®à¯.',
      expiry: 'à®Žà®™à¯à®•à®³à¯ à®µà¯†à®²à¯à®²à®®à¯ à®ªà¯Šà®°à¯à®Ÿà¯à®•à®³à¯ à®šà®°à®¿à®¯à®¾à®• à®šà¯‡à®®à®¿à®¤à¯à®¤à®¾à®²à¯ à®‰à®±à¯à®ªà®¤à¯à®¤à®¿ à®¤à¯‡à®¤à®¿à®¯à®¿à®²à®¿à®°à¯à®¨à¯à®¤à¯ 12 à®®à®¾à®¤à®™à¯à®•à®³à¯ à®†à®¯à¯à®Ÿà¯à®•à®¾à®²à®®à¯ à®‰à®³à¯à®³à®©.',
      organic: 'à®†à®®à¯, à®Žà®™à¯à®•à®³à¯ à®µà¯†à®²à¯à®²à®®à¯ 100% à®‡à®¯à®±à¯à®•à¯ˆ à®•à®°à¯à®®à¯à®ªà®¿à®²à¯ à®‡à®°à¯à®¨à¯à®¤à¯ à®¤à®¯à®¾à®°à®¿à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®•à®¿à®±à®¤à¯, à®‡à®¤à¯ à®ªà¯‚à®šà¯à®šà®¿à®•à¯à®•à¯Šà®²à¯à®²à®¿à®•à®³à¯ à®…à®²à¯à®²à®¤à¯ à®‡à®°à®šà®¾à®¯à®©à®™à¯à®•à®³à¯ à®‡à®²à¯à®²à®¾à®®à®²à¯ à®µà®³à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®•à®¿à®±à®¤à¯.',
      bulk: 'à®†à®®à¯! 50 à®•à®¿à®²à¯‹à®µà¯à®•à¯à®•à¯ à®®à¯‡à®²à¯ à®®à¯Šà®¤à¯à®¤ à®†à®°à¯à®Ÿà®°à¯à®•à®³à¯à®•à¯à®•à¯, à®šà®¿à®±à®ªà¯à®ªà¯ à®µà®¿à®²à¯ˆà®•à¯à®•à¯ à®Žà®™à¯à®•à®³à¯ˆ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à®µà¯à®®à¯. WhatsApp: +91 9876543210'
    }
  },
  
  // TELUGU - à°¤à±†à°²à±à°—à±
  te: {
    greeting: "à°¨à°®à°¸à±à°•à°¾à°°à°‚! ðŸ‘‹ GUDY à°•à± à°¸à±à°µà°¾à°—à°¤à°‚! à°®à°¾ à°ªà±à°°à±€à°®à°¿à°¯à°‚ à°¬à±†à°²à±à°²à°‚ à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à°²à±‹ à°®à±€à°•à± à°¸à°¹à°¾à°¯à°‚ à°šà±‡à°¯à°¡à°¾à°¨à°¿à°•à°¿ à°¨à±‡à°¨à± à°‡à°•à±à°•à°¡ à°‰à°¨à±à°¨à°¾à°¨à±. à°¨à±‡à°¨à± à°Žà°²à°¾ à°¸à°¹à°¾à°¯à°‚ à°šà±‡à°¯à°—à°²à°¨à±?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'à°¸à±‹à°®à°µà°¾à°°à°‚ à°¨à±à°‚à°¡à°¿ à°¶à°¨à°¿à°µà°¾à°°à°‚, à°‰à°¦à°¯à°‚ 9 à°—à°‚à°Ÿà°²à± - à°¸à°¾à°¯à°‚à°¤à±à°°à°‚ 6 à°—à°‚à°Ÿà°²à±'
    },
    faqs: {
      shipping: 'â‚¹299 à°•à°‚à°Ÿà±‡ à°Žà°•à±à°•à±à°µ à°…à°¨à±à°¨à°¿ à°†à°°à±à°¡à°°à±à°²à°•à± à°‰à°šà°¿à°¤ à°·à°¿à°ªà±à°ªà°¿à°‚à°—à±. â‚¹299 à°•à°‚à°Ÿà±‡ à°¤à°•à±à°•à±à°µ à°†à°°à±à°¡à°°à±à°²à°•à± â‚¹40 à°·à°¿à°ªà±à°ªà°¿à°‚à°—à± à°›à°¾à°°à±à°œà±€à°²à± à°µà°°à±à°¤à°¿à°¸à±à°¤à°¾à°¯à°¿.',
      delivery: 'à°®à±€ à°¸à±à°¥à°¾à°¨à°¾à°¨à±à°¨à°¿ à°¬à°Ÿà±à°Ÿà°¿ à°¡à±†à°²à°¿à°µà°°à±€à°•à°¿ à°¸à°¾à°§à°¾à°°à°£à°‚à°—à°¾ 3-7 à°µà±à°¯à°¾à°ªà°¾à°° à°¦à°¿à°¨à°¾à°²à± à°ªà°¡à±à°¤à±à°‚à°¦à°¿. à°®à±†à°Ÿà±à°°à±‹ à°¨à°—à°°à°¾à°²à± 3-4 à°°à±‹à°œà±à°²à±à°²à±‹ à°†à°°à±à°¡à°°à±à°²à°¨à± à°…à°‚à°¦à±à°•à±à°‚à°Ÿà°¾à°¯à°¿.',
      cod: 'à°…à°µà±à°¨à±! à°…à°¨à±à°¨à°¿ à°†à°°à±à°¡à°°à±à°²à°•à± à°•à±à°¯à°¾à°·à± à°†à°¨à± à°¡à±†à°²à°¿à°µà°°à±€ (COD) à°…à°‚à°—à±€à°•à°°à°¿à°¸à±à°¤à°¾à°®à±. UPI, à°•à°¾à°°à±à°¡à±à°²à± à°²à±‡à°¦à°¾ à°¨à±†à°Ÿà± à°¬à±à°¯à°¾à°‚à°•à°¿à°‚à°—à± à°‰à°ªà°¯à±‹à°—à°¿à°‚à°šà°¿ à°†à°¨à±à°²à±ˆà°¨à±à°²à±‹ à°•à±‚à°¡à°¾ à°šà±†à°²à±à°²à°¿à°‚à°šà°µà°šà±à°šà±.',
      returns: 'à°®à°¾à°•à± 7 à°°à±‹à°œà±à°² à°°à°¿à°Ÿà°°à±à°¨à± à°ªà°¾à°²à°¸à±€ à°‰à°‚à°¦à°¿. à°®à±€à°•à± à°¦à±†à°¬à±à°¬à°¤à°¿à°¨à±à°¨ à°²à±‡à°¦à°¾ à°²à±‹à°ªà°­à±‚à°¯à°¿à°·à±à°Ÿ à°‰à°¤à±à°ªà°¤à±à°¤à°¿ à°²à°­à°¿à°‚à°šà°¿à°¨à°Ÿà±à°²à°¯à°¿à°¤à±‡, à°°à±€à°ªà±à°²à±‡à°¸à±à°®à±†à°‚à°Ÿà± à°²à±‡à°¦à°¾ à°°à±€à°«à°‚à°¡à± à°•à±‹à°¸à°‚ 7 à°°à±‹à°œà±à°²à±à°²à±‹ à°®à°®à±à°®à°²à±à°¨à°¿ à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿.',
      storage: 'à°—à°¾à°²à°¿ à°šà±Šà°°à°¬à°¡à°¨à°¿ à°•à°‚à°Ÿà±ˆà°¨à°°à±à°²à±‹ à°šà°²à±à°²à°¨à°¿, à°ªà±Šà°¡à°¿ à°ªà±à°°à°¦à±‡à°¶à°‚à°²à±‹ à°¨à°¿à°²à±à°µ à°šà±‡à°¯à°‚à°¡à°¿. à°—à°Ÿà±à°Ÿà°¿à°ªà°¡à°•à±à°‚à°¡à°¾ à°¤à±‡à°® à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿.',
      expiry: 'à°®à°¾ à°¬à±†à°²à±à°²à°‚ à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à± à°¸à°°à°¿à°—à±à°—à°¾ à°¨à°¿à°²à±à°µ à°šà±‡à°¸à°¿à°¨à°ªà±à°ªà±à°¡à± à°¤à°¯à°¾à°°à±€ à°¤à±‡à°¦à±€ à°¨à±à°‚à°¡à°¿ 12 à°¨à±†à°²à°² à°·à±†à°²à±à°«à± à°œà±€à°µà°¿à°¤à°‚ à°•à°²à°¿à°—à°¿ à°‰à°‚à°Ÿà°¾à°¯à°¿.',
      organic: 'à°…à°µà±à°¨à±, à°®à°¾ à°¬à±†à°²à±à°²à°‚ 100% à°¸à±‡à°‚à°¦à±à°°à±€à°¯ à°šà±†à°°à±à°•à± à°¨à±à°‚à°¡à°¿ à°¤à°¯à°¾à°°à± à°šà±‡à°¯à°¬à°¡à°¿à°‚à°¦à°¿, à°‡à°¦à°¿ à°ªà±à°°à±à°—à±à°®à°‚à°¦à±à°²à± à°²à±‡à°¦à°¾ à°°à°¸à°¾à°¯à°¨à°¾à°²à± à°²à±‡à°•à±à°‚à°¡à°¾ à°ªà±†à°‚à°šà°¬à°¡à±à°¤à±à°‚à°¦à°¿.',
      bulk: 'à°…à°µà±à°¨à±! 50 à°•à°¿à°²à±‹à°² à°•à°‚à°Ÿà±‡ à°Žà°•à±à°•à±à°µ à°¬à°²à±à°•à± à°†à°°à±à°¡à°°à±à°² à°•à±‹à°¸à°‚, à°ªà±à°°à°¤à±à°¯à±‡à°• à°§à°° à°•à±‹à°¸à°‚ à°¦à°¯à°šà±‡à°¸à°¿ à°®à°®à±à°®à°²à±à°¨à°¿ à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿. WhatsApp: +91 9876543210'
    }
  },
  
  // KANNADA - à²•à²¨à³à²¨à²¡
  kn: {
    greeting: "à²¨à²®à²¸à³à²•à²¾à²°! ðŸ‘‹ GUDY à²—à³† à²¸à³à²µà²¾à²—à²¤! à²¨à²®à³à²® à²ªà³à²°à³€à²®à²¿à²¯à²‚ à²¬à³†à²²à³à²²à²¦ à²‰à²¤à³à²ªà²¨à³à²¨à²—à²³à²²à³à²²à²¿ à²¨à²¿à²®à²—à³† à²¸à²¹à²¾à²¯ à²®à²¾à²¡à²²à³ à²¨à²¾à²¨à³ à²‡à²²à³à²²à²¿à²¦à³à²¦à³‡à²¨à³†. à²¨à²¾à²¨à³ à²¹à³‡à²—à³† à²¸à²¹à²¾à²¯ à²®à²¾à²¡à²¬à²¹à³à²¦à³?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'à²¸à³‹à²®à²µà²¾à²°à²¦à²¿à²‚à²¦ à²¶à²¨à²¿à²µà²¾à²°à²¦à²µà²°à³†à²—à³†, à²¬à³†à²³à²¿à²—à³à²—à³† 9 à²°à²¿à²‚à²¦ à²¸à²‚à²œà³† 6 à²°à²µà²°à³†à²—à³†'
    },
    faqs: {
      shipping: 'â‚¹299 à²•à³à²•à²¿à²‚à²¤ à²¹à³†à²šà³à²šà²¿à²¨ à²Žà²²à³à²²à²¾ à²†à²°à³à²¡à²°à³â€Œà²—à²³à²²à³à²²à²¿ à²‰à²šà²¿à²¤ à²¶à²¿à²ªà³à²ªà²¿à²‚à²—à³. â‚¹299 à²•à³à²•à²¿à²‚à²¤ à²•à²¡à²¿à²®à³† à²†à²°à³à²¡à²°à³â€Œà²—à²³à²¿à²—à³† â‚¹40 à²¶à²¿à²ªà³à²ªà²¿à²‚à²—à³ à²¶à³à²²à³à²• à²…à²¨à³à²µà²¯à²µà²¾à²—à³à²¤à³à²¤à²¦à³†.',
      delivery: 'à²¨à²¿à²®à³à²® à²¸à³à²¥à²³à²µà²¨à³à²¨à³ à²…à²µà²²à²‚à²¬à²¿à²¸à²¿ à²µà²¿à²¤à²°à²£à³†à²—à³† à²¸à²¾à²®à²¾à²¨à³à²¯à²µà²¾à²—à²¿ 3-7 à²µà³à²¯à²¾à²ªà²¾à²° à²¦à²¿à²¨à²—à²³à³ à²¤à³†à²—à³†à²¦à³à²•à³Šà²³à³à²³à³à²¤à³à²¤à²¦à³†. à²®à³†à²Ÿà³à²°à³‹ à²¨à²—à²°à²—à²³à²¿à²—à³† 3-4 à²¦à²¿à²¨à²—à²³à²²à³à²²à²¿ à²†à²°à³à²¡à²°à³â€Œà²—à²³à³ à²¸à²¿à²—à³à²¤à³à²¤à²µà³†.',
      cod: 'à²¹à³Œà²¦à³! à²¨à²¾à²µà³ à²Žà²²à³à²²à²¾ à²†à²°à³à²¡à²°à³â€Œà²—à²³à²¿à²—à³† à²•à³à²¯à²¾à²¶à³ à²†à²¨à³ à²¡à³†à²²à²¿à²µà²°à²¿ (COD) à²…à²¨à³à²¨à³ à²¸à³à²µà³€à²•à²°à²¿à²¸à³à²¤à³à²¤à³‡à²µà³†. UPI, à²•à²¾à²°à³à²¡à³â€Œà²—à²³à³ à²…à²¥à²µà²¾ à²¨à³†à²Ÿà³ à²¬à³à²¯à²¾à²‚à²•à²¿à²‚à²—à³ à²¬à²³à²¸à²¿à²•à³Šà²‚à²¡à³ à²†à²¨à³â€Œà²²à³ˆà²¨à³â€Œà²¨à²²à³à²²à²¿ à²ªà²¾à²µà²¤à²¿à²¸à²¬à²¹à³à²¦à³.',
      returns: 'à²¨à²®à²—à³† 7-à²¦à²¿à²¨à²¦ à²°à²¿à²Ÿà²°à³à²¨à³ à²¨à³€à²¤à²¿ à²‡à²¦à³†. à²¨à²¿à²®à²—à³† à²¹à²¾à²¨à²¿à²—à³Šà²³à²—à²¾à²¦ à²…à²¥à²µà²¾ à²¦à³‹à²·à²ªà³‚à²°à²¿à²¤ à²‰à²¤à³à²ªà²¨à³à²¨ à²¸à²¿à²•à³à²•à²°à³†, à²¬à²¦à²²à²¿ à²…à²¥à²µà²¾ à²®à²°à³à²ªà²¾à²µà²¤à²¿à²—à²¾à²—à²¿ 7 à²¦à²¿à²¨à²—à²³à²²à³à²²à²¿ à²¨à²®à³à²®à²¨à³à²¨à³ à²¸à²‚à²ªà²°à³à²•à²¿à²¸à²¿.',
      storage: 'à²—à²¾à²³à²¿à²¯à²¾à²¡à²¦ à²ªà²¾à²¤à³à²°à³†à²¯à²²à³à²²à²¿ à²¤à²‚à²ªà²¾à²¦, à²’à²£ à²¸à³à²¥à²³à²¦à²²à³à²²à²¿ à²¸à²‚à²—à³à²°à²¹à²¿à²¸à²¿. à²—à²Ÿà³à²Ÿà²¿à²¯à²¾à²—à³à²µà³à²¦à²¨à³à²¨à³ à²¤à²¡à³†à²¯à²²à³ à²¤à³‡à²µà²¾à²‚à²¶à²¦à²¿à²‚à²¦ à²¦à³‚à²°à²µà²¿à²°à²¿à²¸à²¿.',
      expiry: 'à²¨à²®à³à²® à²¬à³†à²²à³à²²à²¦ à²‰à²¤à³à²ªà²¨à³à²¨à²—à²³à³ à²¸à²°à²¿à²¯à²¾à²—à²¿ à²¸à²‚à²—à³à²°à²¹à²¿à²¸à²¿à²¦à²¾à²— à²¤à²¯à²¾à²°à²¿à²•à³†à²¯ à²¦à²¿à²¨à²¾à²‚à²•à²¦à²¿à²‚à²¦ 12 à²¤à²¿à²‚à²—à²³ à²¶à³†à²²à³à²«à³ à²²à³ˆà²«à³ à²…à²¨à³à²¨à³ à²¹à³Šà²‚à²¦à²¿à²µà³†.',
      organic: 'à²¹à³Œà²¦à³, à²¨à²®à³à²® à²¬à³†à²²à³à²²à²µà²¨à³à²¨à³ 100% à²¸à²¾à²µà²¯à²µ à²•à²¬à³à²¬à²¿à²¨à²¿à²‚à²¦ à²¤à²¯à²¾à²°à²¿à²¸à²²à²¾à²—à³à²¤à³à²¤à²¦à³†, à²…à²¦à²¨à³à²¨à³ à²•à³€à²Ÿà²¨à²¾à²¶à²•à²—à²³à³ à²…à²¥à²µà²¾ à²°à²¾à²¸à²¾à²¯à²¨à²¿à²•à²—à²³à²¿à²²à³à²²à²¦à³† à²¬à³†à²³à³†à²¸à²²à²¾à²—à³à²¤à³à²¤à²¦à³†.',
      bulk: 'à²¹à³Œà²¦à³! 50 à²•à³†à²œà²¿à²—à²¿à²‚à²¤ à²¹à³†à²šà³à²šà²¿à²¨ à²¬à²²à³à²•à³ à²†à²°à³à²¡à²°à³â€Œà²—à²³à²¿à²—à³†, à²µà²¿à²¶à³‡à²· à²¬à³†à²²à³†à²—à²¾à²—à²¿ à²¦à²¯à²µà²¿à²Ÿà³à²Ÿà³ à²¨à²®à³à²®à²¨à³à²¨à³ à²¸à²‚à²ªà²°à³à²•à²¿à²¸à²¿. WhatsApp: +91 9876543210'
    }
  },
  
  // MALAYALAM - à´®à´²à´¯à´¾à´³à´‚
  ml: {
    greeting: "à´¨à´®à´¸àµà´•à´¾à´°à´‚! ðŸ‘‹ GUDY-à´¯à´¿à´²àµ‡à´•àµà´•àµ à´¸àµà´µà´¾à´—à´¤à´‚! à´žà´™àµà´™à´³àµà´Ÿàµ† à´ªàµà´°àµ€à´®à´¿à´¯à´‚ à´¶àµ¼à´•àµà´•à´° à´‰àµ½à´ªàµà´ªà´¨àµà´¨à´™àµà´™à´³à´¿àµ½ à´¨à´¿à´™àµà´™à´³àµ† à´¸à´¹à´¾à´¯à´¿à´•àµà´•à´¾àµ» à´žà´¾àµ» à´‡à´µà´¿à´Ÿàµ†à´¯àµà´£àµà´Ÿàµ. à´Žà´¨à´¿à´•àµà´•àµ à´Žà´™àµà´™à´¨àµ† à´¸à´¹à´¾à´¯à´¿à´•àµà´•à´¾à´‚?",
    contact: {
      phone: '+91 9876543210',
      email: 'support@gudy.com',
      whatsapp: '+91 9876543210',
      hours: 'à´¤à´¿à´™àµà´•àµ¾ à´®àµà´¤àµ½ à´¶à´¨à´¿ à´µà´°àµ†, à´°à´¾à´µà´¿à´²àµ† 9 à´®à´£à´¿ à´®àµà´¤àµ½ à´µàµˆà´•àµà´¨àµà´¨àµ‡à´°à´‚ 6 à´®à´£à´¿ à´µà´°àµ†'
    },
    faqs: {
      shipping: 'â‚¹299-à´¨àµ à´®àµà´•à´³à´¿à´²àµà´³àµà´³ à´Žà´²àµà´²à´¾ à´“àµ¼à´¡à´±àµà´•àµ¾à´•àµà´•àµà´‚ à´¸àµ—à´œà´¨àµà´¯ à´·à´¿à´ªàµà´ªà´¿à´‚à´—àµ. â‚¹299-àµ½ à´¤à´¾à´´àµ†à´¯àµà´³àµà´³ à´“àµ¼à´¡à´±àµà´•àµ¾à´•àµà´•àµ â‚¹40 à´·à´¿à´ªàµà´ªà´¿à´‚à´—àµ à´šà´¾àµ¼à´œàµ à´¬à´¾à´§à´•à´®à´¾à´£àµ.',
      delivery: 'à´¨à´¿à´™àµà´™à´³àµà´Ÿàµ† à´¸àµà´¥à´²à´¤àµà´¤àµ† à´†à´¶àµà´°à´¯à´¿à´šàµà´šàµ à´¡àµ†à´²à´¿à´µà´±à´¿à´¯à´¿àµ½ à´¸à´¾à´§à´¾à´°à´£à´¯à´¾à´¯à´¿ 3-7 à´ªàµà´°à´µàµƒà´¤àµà´¤à´¿ à´¦à´¿à´µà´¸à´™àµà´™àµ¾ à´Žà´Ÿàµà´•àµà´•àµà´‚. à´®àµ†à´Ÿàµà´°àµ‹ à´¨à´—à´°à´™àµà´™à´³à´¿àµ½ 3-4 à´¦à´¿à´µà´¸à´™àµà´™àµ¾à´•àµà´•àµà´³àµà´³à´¿àµ½ à´“àµ¼à´¡à´±àµà´•àµ¾ à´²à´­à´¿à´•àµà´•àµà´‚.',
      cod: 'à´…à´¤àµ†! à´Žà´²àµà´²à´¾ à´“àµ¼à´¡à´±àµà´•àµ¾à´•àµà´•àµà´‚ à´žà´™àµà´™àµ¾ à´•àµà´¯à´¾à´·àµ à´“àµº à´¡àµ†à´²à´¿à´µà´±à´¿ (COD) à´¸àµà´µàµ€à´•à´°à´¿à´•àµà´•àµà´¨àµà´¨àµ. UPI, à´•à´¾àµ¼à´¡àµà´•àµ¾, à´…à´²àµà´²àµ†à´™àµà´•à´¿àµ½ à´¨àµ†à´±àµà´±àµ à´¬à´¾à´™àµà´•à´¿à´‚à´—àµ à´‰à´ªà´¯àµ‹à´—à´¿à´šàµà´šàµ à´“àµºà´²àµˆà´¨à´¾à´¯à´¿ à´ªà´£à´®à´Ÿà´¯àµà´•àµà´•à´¾à´‚.',
      returns: 'à´žà´™àµà´™àµ¾à´•àµà´•àµ 7 à´¦à´¿à´µà´¸à´¤àµà´¤àµ† à´±à´¿à´Ÿàµà´Ÿàµ‡àµº à´ªàµ‹à´³à´¿à´¸à´¿ à´‰à´£àµà´Ÿàµ. à´•àµ‡à´Ÿà´¾à´¯à´¤àµ‹ à´µà´¿à´•à´²à´®à´¾à´¯à´¤àµ‹ à´†à´¯ à´‰àµ½à´ªàµà´ªà´¨àµà´¨à´‚ à´²à´­à´¿à´šàµà´šà´¾àµ½, à´®à´¾à´±àµà´±à´¿à´¸àµà´¥à´¾à´ªà´¨à´¤àµà´¤à´¿à´¨àµ‹ à´±àµ€à´«à´£àµà´Ÿà´¿à´¨àµ‹ 7 à´¦à´¿à´µà´¸à´¤àµà´¤à´¿à´¨àµà´³àµà´³à´¿àµ½ à´žà´™àµà´™à´³àµ† à´¬à´¨àµà´§à´ªàµà´ªàµ†à´Ÿàµà´•.',
      storage: 'à´µà´¾à´¯àµà´•à´Ÿà´•àµà´•à´¾à´¤àµà´¤ à´ªà´¾à´¤àµà´°à´¤àµà´¤à´¿àµ½ à´¤à´£àµà´¤àµà´¤à´¤àµà´‚ à´µà´°à´£àµà´Ÿà´¤àµà´®à´¾à´¯ à´¸àµà´¥à´²à´¤àµà´¤àµ à´¸àµ‚à´•àµà´·à´¿à´•àµà´•àµà´•. à´•à´ à´¿à´¨à´®à´¾à´•àµà´¨àµà´¨à´¤àµ à´¤à´Ÿà´¯à´¾àµ» à´ˆàµ¼à´ªàµà´ªà´¤àµà´¤à´¿àµ½ à´¨à´¿à´¨àµà´¨àµ à´…à´•à´±àµà´±à´¿ à´¨à´¿àµ¼à´¤àµà´¤àµà´•.',
      expiry: 'à´¶à´°à´¿à´¯à´¾à´¯à´¿ à´¸àµ‚à´•àµà´·à´¿à´šàµà´šà´¾àµ½ à´¨à´¿àµ¼à´®àµà´®à´¾à´£ à´¤àµ€à´¯à´¤à´¿ à´®àµà´¤àµ½ à´žà´™àµà´™à´³àµà´Ÿàµ† à´¶àµ¼à´•àµà´•à´° à´‰àµ½à´ªàµà´ªà´¨àµà´¨à´™àµà´™àµ¾à´•àµà´•àµ 12 à´®à´¾à´¸à´¤àµà´¤àµ† à´·àµ†àµ½à´«àµ à´²àµˆà´«àµ à´‰à´£àµà´Ÿàµ.',
      organic: 'à´…à´¤àµ†, à´žà´™àµà´™à´³àµà´Ÿàµ† à´¶àµ¼à´•àµà´•à´° 100% à´œàµˆà´µ à´•à´°à´¿à´®àµà´ªà´¿àµ½ à´¨à´¿à´¨àµà´¨àµ à´¨à´¿àµ¼à´®àµà´®à´¿à´šàµà´šà´¤à´¾à´£àµ, à´‡à´¤àµ à´•àµ€à´Ÿà´¨à´¾à´¶à´¿à´¨à´¿à´•à´³àµ‹ à´°à´¾à´¸à´µà´¸àµà´¤àµà´•àµà´•à´³àµ‹ à´‡à´²àµà´²à´¾à´¤àµ† à´µà´³àµ¼à´¤àµà´¤àµà´¨àµà´¨àµ.',
      bulk: 'à´…à´¤àµ†! 50 à´•à´¿à´²àµ‹à´¯à´¿àµ½ à´•àµ‚à´Ÿàµà´¤à´²àµà´³àµà´³ à´¬àµ¾à´•àµà´•àµ à´“àµ¼à´¡à´±àµà´•àµ¾à´•àµà´•àµ, à´ªàµà´°à´¤àµà´¯àµ‡à´• à´µà´¿à´²à´¨à´¿àµ¼à´£àµà´£à´¯à´¤àµà´¤à´¿à´¨à´¾à´¯à´¿ à´žà´™àµà´™à´³àµ† à´¬à´¨àµà´§à´ªàµà´ªàµ†à´Ÿàµà´•. WhatsApp: +91 9876543210'
    }
  },
  
  // Add other languages...
  mr: {
    greeting: "à¤¨à¤®à¤¸à¥à¤•à¤¾à¤°! ðŸ‘‹ GUDY à¤®à¤§à¥à¤¯à¥‡ à¤†à¤ªà¤²à¥‡ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤†à¤¹à¥‡! à¤†à¤®à¤šà¥à¤¯à¤¾ à¤ªà¥à¤°à¥€à¤®à¤¿à¤¯à¤® à¤—à¥‚à¤³ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨à¤¾à¤‚à¤®à¤§à¥à¤¯à¥‡ à¤¤à¥à¤®à¥à¤¹à¤¾à¤²à¤¾ à¤®à¤¦à¤¤ à¤•à¤°à¤£à¥à¤¯à¤¾à¤¸à¤¾à¤ à¥€ à¤®à¥€ à¤¯à¥‡à¤¥à¥‡ à¤†à¤¹à¥‡. à¤®à¥€ à¤•à¤¶à¥€ à¤®à¤¦à¤¤ à¤•à¤°à¥‚ à¤¶à¤•à¤¤à¥‹?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'à¤¸à¥‹à¤®à¤µà¤¾à¤° à¤¤à¥‡ à¤¶à¤¨à¤¿à¤µà¤¾à¤°, à¤¸à¤•à¤¾à¤³à¥€ 9 à¤¤à¥‡ à¤¸à¤‚à¤§à¥à¤¯à¤¾à¤•à¤¾à¤³à¥€ 6' },
    faqs: {
      shipping: 'â‚¹299 à¤ªà¥‡à¤•à¥à¤·à¤¾ à¤œà¤¾à¤¸à¥à¤¤ à¤‘à¤°à¥à¤¡à¤°à¤µà¤° à¤®à¥‹à¤«à¤¤ à¤¶à¤¿à¤ªà¤¿à¤‚à¤—. â‚¹299 à¤ªà¥‡à¤•à¥à¤·à¤¾ à¤•à¤®à¥€ à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ â‚¹40 à¤¶à¤¿à¤ªà¤¿à¤‚à¤— à¤¶à¥à¤²à¥à¤• à¤²à¤¾à¤—à¥‚.',
      delivery: 'à¤¤à¥à¤®à¤šà¥à¤¯à¤¾ à¤¸à¥à¤¥à¤¾à¤¨à¤¾à¤¨à¥à¤¸à¤¾à¤° à¤¡à¤¿à¤²à¤¿à¤µà¥à¤¹à¤°à¥€à¤²à¤¾ à¤¸à¤¾à¤§à¤¾à¤°à¤£à¤ªà¤£à¥‡ 3-7 à¤µà¥à¤¯à¤¾à¤µà¤¸à¤¾à¤¯à¤¿à¤• à¤¦à¤¿à¤µà¤¸ à¤²à¤¾à¤—à¤¤à¤¾à¤¤.',
      cod: 'à¤¹à¥‹à¤¯! à¤†à¤®à¥à¤¹à¥€ à¤¸à¤°à¥à¤µ à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ à¤•à¥…à¤¶ à¤‘à¤¨ à¤¡à¤¿à¤²à¤¿à¤µà¥à¤¹à¤°à¥€ (COD) à¤¸à¥à¤µà¥€à¤•à¤¾à¤°à¤¤à¥‹.',
      returns: '7-à¤¦à¤¿à¤µà¤¸à¤¾à¤‚à¤šà¥€ à¤ªà¤°à¤¤à¤¾à¤µà¤¾ à¤§à¥‹à¤°à¤£ à¤†à¤¹à¥‡.',
      storage: 'à¤¥à¤‚à¤¡, à¤•à¥‹à¤°à¤¡à¥à¤¯à¤¾ à¤ à¤¿à¤•à¤¾à¤£à¥€ à¤à¤…à¤°à¤Ÿà¤¾à¤‡à¤Ÿ à¤•à¤‚à¤Ÿà¥‡à¤¨à¤°à¤®à¤§à¥à¤¯à¥‡ à¤¸à¤¾à¤ à¤µà¤¾.',
      expiry: 'à¤¯à¥‹à¤—à¥à¤¯à¤°à¤¿à¤¤à¥à¤¯à¤¾ à¤¸à¤¾à¤ à¤µà¤²à¥à¤¯à¤¾à¤¸ à¤¨à¤¿à¤°à¥à¤®à¤¿à¤¤à¥€à¤šà¥à¤¯à¤¾ à¤¤à¤¾à¤°à¤–à¥‡à¤ªà¤¾à¤¸à¥‚à¤¨ 12 à¤®à¤¹à¤¿à¤¨à¥‡ à¤¶à¥‡à¤²à¥à¤« à¤²à¤¾à¤‡à¤«.',
      organic: 'à¤¹à¥‹à¤¯, à¤†à¤®à¤šà¥‡ à¤—à¥‚à¤³ 100% à¤¸à¥‡à¤‚à¤¦à¥à¤°à¤¿à¤¯ à¤Šà¤¸à¤¾à¤ªà¤¾à¤¸à¥‚à¤¨ à¤¬à¤¨à¤µà¤²à¥‡ à¤œà¤¾à¤¤à¥‡.',
      bulk: 'à¤¹à¥‹à¤¯! 50 à¤•à¤¿à¤²à¥‹ à¤ªà¥‡à¤•à¥à¤·à¤¾ à¤œà¤¾à¤¸à¥à¤¤ à¤‘à¤°à¥à¤¡à¤°à¤¸à¤¾à¤ à¥€ à¤†à¤®à¤šà¥à¤¯à¤¾à¤¶à¥€ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤¸à¤¾à¤§à¤¾. WhatsApp: +91 9876543210'
    }
  },
  
  bn: {
    greeting: "à¦¨à¦®à¦¸à§à¦•à¦¾à¦°! ðŸ‘‹ GUDY-à¦¤à§‡ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®! à¦†à¦®à¦¾à¦¦à§‡à¦° à¦ªà§à¦°à¦¿à¦®à¦¿à¦¯à¦¼à¦¾à¦® à¦—à§à¦¡à¦¼ à¦ªà¦£à§à¦¯à¦—à§à¦²à¦¿à¦¤à§‡ à¦†à¦ªà¦¨à¦¾à¦•à§‡ à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à¦¤à§‡ à¦†à¦®à¦¿ à¦à¦–à¦¾à¦¨à§‡ à¦†à¦›à¦¿à¥¤ à¦†à¦®à¦¿ à¦•à§€à¦­à¦¾à¦¬à§‡ à¦¸à¦¹à¦¾à¦¯à¦¼à¦¤à¦¾ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'à¦¸à§‹à¦®à¦¬à¦¾à¦° à¦¥à§‡à¦•à§‡ à¦¶à¦¨à¦¿à¦¬à¦¾à¦°, à¦¸à¦•à¦¾à¦² 9à¦Ÿà¦¾ à¦¥à§‡à¦•à§‡ à¦¸à¦¨à§à¦§à§à¦¯à¦¾ 6à¦Ÿà¦¾' },
    faqs: {
      shipping: 'â‚¹299-à¦à¦° à¦‰à¦ªà¦°à§‡ à¦¸à¦®à¦¸à§à¦¤ à¦…à¦°à§à¦¡à¦¾à¦°à§‡ à¦¬à¦¿à¦¨à¦¾à¦®à§‚à¦²à§à¦¯à§‡ à¦¶à¦¿à¦ªà¦¿à¦‚à¥¤ â‚¹299-à¦à¦° à¦¨à§€à¦šà§‡ à¦…à¦°à§à¦¡à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯ â‚¹40 à¦¶à¦¿à¦ªà¦¿à¦‚ à¦šà¦¾à¦°à§à¦œ à¦ªà§à¦°à¦¯à§‹à¦œà§à¦¯à¥¤',
      delivery: 'à¦†à¦ªà¦¨à¦¾à¦° à¦…à¦¬à¦¸à§à¦¥à¦¾à¦¨à§‡à¦° à¦‰à¦ªà¦° à¦¨à¦¿à¦°à§à¦­à¦° à¦•à¦°à§‡ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿à¦¤à§‡ à¦¸à¦¾à¦§à¦¾à¦°à¦£à¦¤ 3-7 à¦•à¦¾à¦°à§à¦¯à¦¦à¦¿à¦¬à¦¸ à¦¸à¦®à¦¯à¦¼ à¦²à¦¾à¦—à§‡à¥¤',
      cod: 'à¦¹à§à¦¯à¦¾à¦! à¦†à¦®à¦°à¦¾ à¦¸à¦®à¦¸à§à¦¤ à¦…à¦°à§à¦¡à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯ à¦•à§à¦¯à¦¾à¦¶ à¦…à¦¨ à¦¡à§‡à¦²à¦¿à¦­à¦¾à¦°à¦¿ (COD) à¦—à§à¦°à¦¹à¦£ à¦•à¦°à¦¿à¥¤',
      returns: 'à¦†à¦®à¦¾à¦¦à§‡à¦° 7-à¦¦à¦¿à¦¨à§‡à¦° à¦°à¦¿à¦Ÿà¦¾à¦°à§à¦¨ à¦¨à§€à¦¤à¦¿ à¦†à¦›à§‡à¥¤',
      storage: 'à¦à¦•à¦Ÿà¦¿ à¦¬à¦¾à¦¯à¦¼à§à¦°à§‹à¦§à§€ à¦ªà¦¾à¦¤à§à¦°à§‡ à¦¶à§€à¦¤à¦², à¦¶à§à¦·à§à¦• à¦œà¦¾à¦¯à¦¼à¦—à¦¾à¦¯à¦¼ à¦¸à¦‚à¦°à¦•à§à¦·à¦£ à¦•à¦°à§à¦¨à¥¤',
      expiry: 'à¦¯à¦¥à¦¾à¦¯à¦¥à¦­à¦¾à¦¬à§‡ à¦¸à¦‚à¦°à¦•à§à¦·à¦£ à¦•à¦°à¦²à§‡ à¦‰à§Žà¦ªà¦¾à¦¦à¦¨à§‡à¦° à¦¤à¦¾à¦°à¦¿à¦– à¦¥à§‡à¦•à§‡ 12 à¦®à¦¾à¦¸à§‡à¦° à¦¶à§‡à¦²à¦« à¦²à¦¾à¦‡à¦«à¥¤',
      organic: 'à¦¹à§à¦¯à¦¾à¦, à¦†à¦®à¦¾à¦¦à§‡à¦° à¦—à§à¦¡à¦¼ 100% à¦œà§ˆà¦¬ à¦†à¦– à¦¥à§‡à¦•à§‡ à¦¤à§ˆà¦°à¦¿à¥¤',
      bulk: 'à¦¹à§à¦¯à¦¾à¦! 50 à¦•à§‡à¦œà¦¿à¦° à¦¬à§‡à¦¶à¦¿ à¦¬à¦¾à¦²à§à¦• à¦…à¦°à§à¦¡à¦¾à¦°à§‡à¦° à¦œà¦¨à§à¦¯ à¦†à¦®à¦¾à¦¦à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦¯à§‹à¦—à¦¾à¦¯à§‹à¦— à¦•à¦°à§à¦¨à¥¤ WhatsApp: +91 9876543210'
    }
  },
  
  gu: {
    greeting: "àª¨àª®àª¸à«àª¤à«‡! ðŸ‘‹ GUDY àª®àª¾àª‚ àª†àªªàª¨à«àª‚ àª¸à«àªµàª¾àª—àª¤ àª›à«‡! àª…àª®àª¾àª°àª¾ àªªà«àª°à«€àª®àª¿àª¯àª® àª—à«‹àª³ àª‰àª¤à«àªªàª¾àª¦àª¨à«‹àª®àª¾àª‚ àª¤àª®àª¨à«‡ àª®àª¦àª¦ àª•àª°àªµàª¾ àª¹à«àª‚ àª…àª¹à«€àª‚ àª›à«àª‚. àª¹à«àª‚ àª•à«‡àªµà«€ àª°à«€àª¤à«‡ àª®àª¦àª¦ àª•àª°à«€ àª¶àª•à«àª‚?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'àª¸à«‹àª®àªµàª¾àª°àª¥à«€ àª¶àª¨àª¿àªµàª¾àª°, àª¸àªµàª¾àª°à«‡ 9 àª¥à«€ àª¸àª¾àª‚àªœà«‡ 6' },
    faqs: {
      shipping: 'â‚¹299 àª¥à«€ àªµàª§à«àª¨àª¾ àª¤àª®àª¾àª® àª“àª°à«àª¡àª° àªªàª° àª®àª«àª¤ àª¶àª¿àªªàª¿àª‚àª—à¥¤ â‚¹299 àª¥à«€ àª“àª›àª¾ àª“àª°à«àª¡àª° àª®àª¾àªŸà«‡ â‚¹40 àª¶àª¿àªªàª¿àª‚àª— àªšàª¾àª°à«àªœ àª²àª¾àª—à« àªªàª¡à«‡ àª›à«‡à¥¤',
      delivery: 'àª¤àª®àª¾àª°àª¾ àª¸à«àª¥àª¾àª¨ àªªàª° àª†àª§àª¾àª° àª°àª¾àª–à«€àª¨à«‡ àª¡àª¿àª²àª¿àªµàª°à«€àª®àª¾àª‚ àª¸àª¾àª®àª¾àª¨à«àª¯ àª°à«€àª¤à«‡ 3-7 àªµà«àª¯àª¾àªµàª¸àª¾àª¯àª¿àª• àª¦àª¿àªµàª¸ àª²àª¾àª—à«‡ àª›à«‡à¥¤',
      cod: 'àª¹àª¾! àª…àª®à«‡ àª¤àª®àª¾àª® àª“àª°à«àª¡àª° àª®àª¾àªŸà«‡ àª•à«‡àª¶ àª“àª¨ àª¡àª¿àª²àª¿àªµàª°à«€ (COD) àª¸à«àªµà«€àª•àª¾àª°à«€àª àª›à«€àªà¥¤',
      returns: 'àª…àª®àª¾àª°à«€ àªªàª¾àª¸à«‡ 7-àª¦àª¿àªµàª¸àª¨à«€ àª°àª¿àªŸàª°à«àª¨ àªªà«‹àª²àª¿àª¸à«€ àª›à«‡à¥¤',
      storage: 'àªàª°àªŸàª¾àª‡àªŸ àª•àª¨à«àªŸà«‡àª¨àª°àª®àª¾àª‚ àª àª‚àª¡à«€, àª¸à«‚àª•à«€ àªœàª—à«àª¯àª¾àª àª¸àª‚àª—à«àª°àª¹àª¿àª¤ àª•àª°à«‹à¥¤',
      expiry: 'àª¯à«‹àª—à«àª¯ àª°à«€àª¤à«‡ àª¸àª‚àª—à«àª°àª¹àª¿àª¤ àª•àª°àªµàª¾àª®àª¾àª‚ àª†àªµà«‡ àª¤à«‹ àª‰àª¤à«àªªàª¾àª¦àª¨àª¨à«€ àª¤àª¾àª°à«€àª–àª¥à«€ 12 àª®àª¹àª¿àª¨àª¾àª¨à«€ àª¶à«‡àª²à«àª« àª²àª¾àª‡àª«à¥¤',
      organic: 'àª¹àª¾, àª…àª®àª¾àª°à«‹ àª—à«‹àª³ 100% àª“àª°à«àª—à«‡àª¨àª¿àª• àª¶à«‡àª°àª¡à«€àª®àª¾àª‚àª¥à«€ àª¬àª¨àª¾àªµàªµàª¾àª®àª¾àª‚ àª†àªµà«‡ àª›à«‡à¥¤',
      bulk: 'àª¹àª¾! 50 àª•àª¿àª²à«‹àª¥à«€ àªµàª§à« àª¬àª²à«àª• àª“àª°à«àª¡àª° àª®àª¾àªŸà«‡ àª•à«ƒàªªàª¾ àª•àª°à«€àª¨à«‡ àª…àª®àª¾àª°à«‹ àª¸àª‚àªªàª°à«àª• àª•àª°à«‹à¥¤ WhatsApp: +91 9876543210'
    }
  },
  
  pa: {
    greeting: "à¨¸à¨¤ à¨¸à©à¨°à©€ à¨…à¨•à¨¾à¨²! ðŸ‘‹ GUDY à¨µà¨¿à©±à¨š à¨¤à©à¨¹à¨¾à¨¡à¨¾ à¨¸à©à¨†à¨—à¨¤ à¨¹à©ˆ! à¨¸à¨¾à¨¡à©‡ à¨ªà©à¨°à©€à¨®à©€à¨…à¨® à¨—à©à©œ à¨‰à¨¤à¨ªà¨¾à¨¦à¨¾à¨‚ à¨µà¨¿à©±à¨š à¨¤à©à¨¹à¨¾à¨¡à©€ à¨®à¨¦à¨¦ à¨•à¨°à¨¨ à¨²à¨ˆ à¨®à©ˆà¨‚ à¨‡à©±à¨¥à©‡ à¨¹à¨¾à¨‚à¥¤ à¨®à©ˆà¨‚ à¨•à¨¿à¨µà©‡à¨‚ à¨®à¨¦à¨¦ à¨•à¨° à¨¸à¨•à¨¦à¨¾ à¨¹à¨¾à¨‚?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'à¨¸à©‹à¨®à¨µà¨¾à¨° à¨¤à©‹à¨‚ à¨¸à¨¼à¨¨à©€à¨µà¨¾à¨°, à¨¸à¨µà©‡à¨°à©‡ 9 à¨¤à©‹à¨‚ à¨¸à¨¼à¨¾à¨® 6' },
    faqs: {
      shipping: 'â‚¹299 à¨¤à©‹à¨‚ à¨µà©±à¨§ à¨¦à©‡ à¨¸à¨¾à¨°à©‡ à¨†à¨°à¨¡à¨°à¨¾à¨‚ à¨¤à©‡ à¨®à©à¨«à¨¼à¨¤ à¨¸à¨¼à¨¿à¨ªà¨¿à©°à¨—à¥¤ â‚¹299 à¨¤à©‹à¨‚ à¨˜à©±à¨Ÿ à¨†à¨°à¨¡à¨°à¨¾à¨‚ à¨²à¨ˆ â‚¹40 à¨¸à¨¼à¨¿à¨ªà¨¿à©°à¨— à¨–à¨°à¨šà©‡ à¨²à¨¾à¨—à©‚ à¨¹à©à©°à¨¦à©‡ à¨¹à¨¨à¥¤',
      delivery: 'à¨¤à©à¨¹à¨¾à¨¡à©€ à¨¸à¨¥à¨¿à¨¤à©€ à¨¦à©‡ à¨†à¨§à¨¾à¨° à¨¤à©‡ à¨¡à¨¿à¨²à©€à¨µà¨°à©€ à¨µà¨¿à©±à¨š à¨†à¨® à¨¤à©Œà¨° à¨¤à©‡ 3-7 à¨•à¨¾à¨°à©‹à¨¬à¨¾à¨°à©€ à¨¦à¨¿à¨¨ à¨²à©±à¨—à¨¦à©‡ à¨¹à¨¨à¥¤',
      cod: 'à¨¹à¨¾à¨‚! à¨…à¨¸à©€à¨‚ à¨¸à¨¾à¨°à©‡ à¨†à¨°à¨¡à¨°à¨¾à¨‚ à¨²à¨ˆ à¨•à©ˆà¨¸à¨¼ à¨†à¨¨ à¨¡à¨¿à¨²à©€à¨µà¨°à©€ (COD) à¨¸à¨µà©€à¨•à¨¾à¨° à¨•à¨°à¨¦à©‡ à¨¹à¨¾à¨‚à¥¤',
      returns: 'à¨¸à¨¾à¨¡à©€ 7-à¨¦à¨¿à¨¨ à¨¦à©€ à¨µà¨¾à¨ªà¨¸à©€ à¨¨à©€à¨¤à©€ à¨¹à©ˆà¥¤',
      storage: 'à¨à¨…à¨°à¨Ÿà¨¾à¨ˆà¨Ÿ à¨•à©°à¨Ÿà©‡à¨¨à¨° à¨µà¨¿à©±à¨š à¨ à©°à¨¡à©€, à¨¸à©à©±à¨•à©€ à¨¥à¨¾à¨‚ à¨¤à©‡ à¨¸à¨Ÿà©‹à¨° à¨•à¨°à©‹à¥¤',
      expiry: 'à¨¸à¨¹à©€ à¨¢à©°à¨— à¨¨à¨¾à¨² à¨¸à¨Ÿà©‹à¨° à¨•à©€à¨¤à©‡ à¨œà¨¾à¨£ à¨¤à©‡ à¨¨à¨¿à¨°à¨®à¨¾à¨£ à¨®à¨¿à¨¤à©€ à¨¤à©‹à¨‚ 12 à¨®à¨¹à©€à¨¨à¨¿à¨†à¨‚ à¨¦à©€ à¨¸à¨¼à©ˆà¨²à¨« à¨²à¨¾à¨ˆà¨«à¥¤',
      organic: 'à¨¹à¨¾à¨‚, à¨¸à¨¾à¨¡à¨¾ à¨—à©à©œ 100% à¨œà©ˆà¨µà¨¿à¨• à¨—à©°à¨¨à©‡ à¨¤à©‹à¨‚ à¨¬à¨£à¨¾à¨‡à¨† à¨—à¨¿à¨† à¨¹à©ˆà¥¤',
      bulk: 'à¨¹à¨¾à¨‚! 50 à¨•à¨¿à¨²à©‹ à¨¤à©‹à¨‚ à¨µà©±à¨§ à¨¦à©‡ à¨¬à¨²à¨• à¨†à¨°à¨¡à¨°à¨¾à¨‚ à¨²à¨ˆ, à¨•à¨¿à¨°à¨ªà¨¾ à¨•à¨°à¨•à©‡ à¨¸à¨¾à¨¡à©‡ à¨¨à¨¾à¨² à¨¸à©°à¨ªà¨°à¨• à¨•à¨°à©‹à¥¤ WhatsApp: +91 9876543210'
    }
  },
  
  // International languages
  es: {
    greeting: "Â¡Hola! ðŸ‘‹ Â¡Bienvenido a GUDY! Estoy aquÃ­ para ayudarte con nuestros productos premium de jaggery. Â¿CÃ³mo puedo asistirte hoy?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'Lunes a SÃ¡bado, 9 AM - 6 PM' },
    faqs: {
      shipping: 'Ofrecemos envÃ­o GRATIS en todos los pedidos superiores a â‚¹299. Para pedidos inferiores a â‚¹299, se aplican cargos de envÃ­o estÃ¡ndar de â‚¹40.',
      delivery: 'La entrega generalmente toma de 3 a 7 dÃ­as hÃ¡biles dependiendo de tu ubicaciÃ³n.',
      cod: 'Â¡SÃ­! Aceptamos Pago Contra Entrega (COD) para todos los pedidos.',
      returns: 'Tenemos una polÃ­tica de devoluciÃ³n de 7 dÃ­as.',
      storage: 'Almacenar en un lugar fresco y seco en un recipiente hermÃ©tico.',
      expiry: 'Nuestros productos tienen una vida Ãºtil de 12 meses desde la fecha de fabricaciÃ³n cuando se almacenan correctamente.',
      organic: 'SÃ­, nuestro jaggery estÃ¡ hecho de caÃ±a de azÃºcar 100% orgÃ¡nica.',
      bulk: 'Â¡SÃ­! Para pedidos al por mayor de mÃ¡s de 50 kg, contÃ¡ctanos. WhatsApp: +91 9876543210'
    }
  },
  
  fr: {
    greeting: "Bonjour! ðŸ‘‹ Bienvenue chez GUDY! Je suis lÃ  pour vous aider avec nos produits premium de jaggery. Comment puis-je vous aider aujourd'hui?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'Lundi au Samedi, 9h - 18h' },
    faqs: {
      shipping: 'Nous offrons la livraison GRATUITE sur toutes les commandes supÃ©rieures Ã  â‚¹299. Pour les commandes infÃ©rieures Ã  â‚¹299, des frais de livraison standard de â‚¹40 s\'appliquent.',
      delivery: 'La livraison prend gÃ©nÃ©ralement 3 Ã  7 jours ouvrables selon votre emplacement.',
      cod: 'Oui! Nous acceptons le paiement Ã  la livraison (COD) pour toutes les commandes.',
      returns: 'Nous avons une politique de retour de 7 jours.',
      storage: 'Conserver dans un endroit frais et sec dans un rÃ©cipient hermÃ©tique.',
      expiry: 'Nos produits ont une durÃ©e de conservation de 12 mois Ã  partir de la date de fabrication lorsqu\'ils sont stockÃ©s correctement.',
      organic: 'Oui, notre jaggery est fabriquÃ© Ã  partir de canne Ã  sucre 100% biologique.',
      bulk: 'Oui! Pour les commandes en gros de plus de 50 kg, veuillez nous contacter. WhatsApp: +91 9876543210'
    }
  },
  
  de: {
    greeting: "Hallo! ðŸ‘‹ Willkommen bei GUDY! Ich bin hier, um Ihnen bei unseren Premium-Jaggery-Produkten zu helfen. Wie kann ich Ihnen heute helfen?",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'Montag bis Samstag, 9 - 18 Uhr' },
    faqs: {
      shipping: 'Wir bieten KOSTENLOSEN Versand fÃ¼r alle Bestellungen Ã¼ber â‚¹299. FÃ¼r Bestellungen unter â‚¹299 fallen Standardversandkosten von â‚¹40 an.',
      delivery: 'Die Lieferung dauert in der Regel 3-7 Werktage, abhÃ¤ngig von Ihrem Standort.',
      cod: 'Ja! Wir akzeptieren Nachnahme (COD) fÃ¼r alle Bestellungen.',
      returns: 'Wir haben eine 7-tÃ¤gige RÃ¼ckgaberichtlinie.',
      storage: 'An einem kÃ¼hlen, trockenen Ort in einem luftdichten BehÃ¤lter aufbewahren.',
      expiry: 'Unsere Produkte haben eine Haltbarkeit von 12 Monaten ab Herstellungsdatum bei ordnungsgemÃ¤ÃŸer Lagerung.',
      organic: 'Ja, unser Jaggery wird aus 100% biologischem Zuckerrohr hergestellt.',
      bulk: 'Ja! FÃ¼r GroÃŸbestellungen Ã¼ber 50 kg kontaktieren Sie uns bitte. WhatsApp: +91 9876543210'
    }
  },
  
  ar: {
    greeting: "Ù…Ø±Ø­Ø¨Ø§Ù‹! ðŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ GUDY! Ø£Ù†Ø§ Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø© Ù…Ù† Ø§Ù„Ø¬Ø§ØºØ±ÙŠ. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ",
    contact: { phone: '+91 9876543210', email: 'support@gudy.com', whatsapp: '+91 9876543210', hours: 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø¨ØªØŒ 9 ØµØ¨Ø§Ø­Ø§Ù‹ - 6 Ù…Ø³Ø§Ø¡Ù‹' },
    faqs: {
      shipping: 'Ù†Ù‚Ø¯Ù… Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªØ²ÙŠØ¯ Ø¹Ù† â‚¹299. Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªÙ‚Ù„ Ø¹Ù† â‚¹299ØŒ ØªØ·Ø¨Ù‚ Ø±Ø³ÙˆÙ… Ø´Ø­Ù† Ù‚ÙŠØ§Ø³ÙŠØ© Ù‚Ø¯Ø±Ù‡Ø§ â‚¹40.',
      delivery: 'Ø¹Ø§Ø¯Ø© Ù…Ø§ ÙŠØ³ØªØºØ±Ù‚ Ø§Ù„ØªØ³Ù„ÙŠÙ… Ù…Ù† 3 Ø¥Ù„Ù‰ 7 Ø£ÙŠØ§Ù… Ø¹Ù…Ù„ Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ùƒ.',
      cod: 'Ù†Ø¹Ù…! Ù†Ù‚Ø¨Ù„ Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… (COD) Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª.',
      returns: 'Ù„Ø¯ÙŠÙ†Ø§ Ø³ÙŠØ§Ø³Ø© Ø¥Ø±Ø¬Ø§Ø¹ Ù„Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù….',
      storage: 'Ø§Ù„ØªØ®Ø²ÙŠÙ† ÙÙŠ Ù…ÙƒØ§Ù† Ø¨Ø§Ø±Ø¯ ÙˆØ¬Ø§Ù ÙÙŠ Ø­Ø§ÙˆÙŠØ© Ù…Ø­ÙƒÙ…Ø© Ø§Ù„Ø¥ØºÙ„Ø§Ù‚.',
      expiry: 'Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ù„Ù‡Ø§ Ø¹Ù…Ø± ØªØ®Ø²ÙŠÙ† Ù…Ø¯ØªÙ‡ 12 Ø´Ù‡Ø±Ø§Ù‹ Ù…Ù† ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØµÙ†ÙŠØ¹ Ø¹Ù†Ø¯ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.',
      organic: 'Ù†Ø¹Ù…ØŒ ÙŠÙØµÙ†Ø¹ Ø§Ù„Ø¬Ø§ØºØ±ÙŠ Ù„Ø¯ÙŠÙ†Ø§ Ù…Ù† Ù‚ØµØ¨ Ø§Ù„Ø³ÙƒØ± Ø§Ù„Ø¹Ø¶ÙˆÙŠ 100%.',
      bulk: 'Ù†Ø¹Ù…! Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø¨Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªÙŠ ØªØ²ÙŠØ¯ Ø¹Ù† 50 ÙƒØ¬Ù…ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù†Ø§. WhatsApp: +91 9876543210'
    }
  }
};

// Language name mapping for prompts
const languageNames = {
  en: 'English',
  hi: 'Hindi (à¤¹à¤¿à¤‚à¤¦à¥€)',
  ta: 'Tamil (à®¤à®®à®¿à®´à¯)',
  te: 'Telugu (à°¤à±†à°²à±à°—à±)',
  kn: 'Kannada (à²•à²¨à³à²¨à²¡)',
  ml: 'Malayalam (à´®à´²à´¯à´¾à´³à´‚)',
  mr: 'Marathi (à¤®à¤°à¤¾à¤ à¥€)',
  bn: 'Bengali (à¦¬à¦¾à¦‚à¦²à¦¾)',
  gu: 'Gujarati (àª—à«àªœàª°àª¾àª¤à«€)',
  pa: 'Punjabi (à¨ªà©°à¨œà¨¾à¨¬à©€)',
  es: 'Spanish (EspaÃ±ol)',
  fr: 'French (FranÃ§ais)',
  de: 'German (Deutsch)',
  ar: 'Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)'
};

// ==================== PRODUCT DATA ====================

const productData = {
  powder: [
    { id: 'pw1kg', name: 'Jaggery Powder 1kg', price: 99, weight: '1kg', category: 'powder' },
    { id: 'pw2kg', name: 'Jaggery Powder 2kg', price: 199, weight: '2kg', category: 'powder' },
    { id: 'pw3kg', name: 'Jaggery Powder 3kg', price: 299, weight: '3kg', category: 'powder' },
    { id: 'pw5kg', name: 'Jaggery Powder 5kg', price: 399, weight: '5kg', category: 'powder' }
  ],
  cubes: [
    { id: 'cb1kg', name: 'Jaggery Cubes 1kg', price: 198, weight: '1kg', category: 'cubes' },
    { id: 'cb2kg', name: 'Jaggery Cubes 2kg', price: 398, weight: '2kg', category: 'cubes' },
    { id: 'cb3kg', name: 'Jaggery Cubes 3kg', price: 598, weight: '3kg', category: 'cubes' },
    { id: 'cb5kg', name: 'Jaggery Cubes 5kg', price: 798, weight: '5kg', category: 'cubes' }
  ]
};

// ==================== CHATBOT FUNCTIONS ====================

// Build system prompt based on language and user context
async function buildSystemPrompt(userId, language = 'en') {
  const t = translations[language] || translations.en;
  
  let orderHistory = '';
  if (userId) {
    try {
      const [user] = await db.select().from(users).where(eq(users.id, userId));
      if (user) {
        const userOrders = await db.select()
          .from(orders)
          .where(eq(orders.userId, userId))
          .orderBy(desc(orders.createdAt))
          .limit(5);
        
        if (userOrders.length > 0) {
          orderHistory = `\n\nCustomer Order History:\n${userOrders.map((o, i) => 
            `${i+1}. Order #${o.id} - â‚¹${o.totalAmount} - ${o.status} (${new Date(o.createdAt).toLocaleDateString()})`
          ).join('\n')}`;
        }
      }
    } catch (error) {
      console.error('Error fetching order history:', error);
    }
  }

  const systemPrompt = `You are a helpful, friendly customer support assistant for GUDY, an online jaggery (gur/à®µà¯†à®²à¯à®²à®®à¯/à°¬à±†à°²à±à°²à°‚) store.

PRODUCT CATALOG:
ðŸ¯ Jaggery Powder:
- 1kg: â‚¹99
- 2kg: â‚¹199
- 3kg: â‚¹299 (FREE SHIPPING!)
- 5kg: â‚¹399 (FREE SHIPPING!)

ðŸ§Š Jaggery Cubes:
- 1kg: â‚¹198
- 2kg: â‚¹398 (FREE SHIPPING!)
- 3kg: â‚¹598 (FREE SHIPPING!)
- 5kg: â‚¹798 (FREE SHIPPING!)

CONTACT INFORMATION:
ðŸ“ž Phone: ${t.contact.phone}
ðŸ“§ Email: ${t.contact.email}
ðŸ’¬ WhatsApp: ${t.contact.whatsapp}
â° Hours: ${t.contact.hours}

KEY FAQs:
ðŸšš Shipping: ${t.faqs.shipping}
ðŸ“¦ Delivery: ${t.faqs.delivery}
ðŸ’° Payment: ${t.faqs.cod}
ðŸ”„ Returns: ${t.faqs.returns}
ðŸ“¦ Storage: ${t.faqs.storage}
â³ Shelf Life: ${t.faqs.expiry}
ðŸŒ± Organic: ${t.faqs.organic}
ðŸ“¦ Bulk Orders: ${t.faqs.bulk}${orderHistory}

TONE & STYLE:
- Be warm, friendly, and conversational
- Use emojis appropriately (ðŸŽ¯ ðŸ’š âœ¨ ðŸ“¦ etc.)
- Respond in ${languageNames[language] || 'English'}
- Provide specific product recommendations based on customer needs
- Reference customer's order history when relevant
- Always mention free shipping on orders above â‚¹299
- Highlight health benefits of jaggery (iron-rich, natural sweetener, immunity booster)
- If asked about orders, refer to the order history if available
- Keep responses concise and actionable
- Suggest quick replies for common actions
- Be proactive in helping customers complete purchases

IMPORTANT: 
- Always be accurate about pricing and product details
- Never make up information not provided in the system prompt
- If you don't know something, direct customers to contact support`;

  return systemPrompt;
}

// Call Groq API with better error handling
async function callGroqAPI(messages, systemPrompt) {
  try {
    if (!GROQ_API_KEY || GROQ_API_KEY.trim() === '') {
      throw new Error('GROQ_API_KEY is not configured');
    }

    const response = await axios.post(
      'https://api.groq.com/openai/v1/chat/completions',
      {
        model: 'llama-3.3-70b-versatile',
        messages: [
          { role: 'system', content: systemPrompt },
          ...messages
        ],
        temperature: 0.7,
        max_tokens: 1024,
        top_p: 1,
        stream: false
      },
      {
        headers: {
          'Authorization': `Bearer ${GROQ_API_KEY}`,
          'Content-Type': 'application/json'
        },
        timeout: 10000
      }
    );

    if (!response.data || !response.data.choices || !response.data.choices[0]) {
      throw new Error('Invalid response from Groq API');
    }

    return response.data.choices[0].message.content;
  } catch (error) {
    if (error.response) {
      console.error('Groq API Error Response:', {
        status: error.response.status,
        data: error.response.data
      });
    } else {
      console.error('Groq API Error:', error.message);
    }
    throw new Error('Failed to get AI response');
  }
}

// Generate quick replies based on context and language
function generateQuickReplies(message, language = 'en') {
  const quickRepliesMap = {
    en: {
      default: ["View products", "Shipping info", "Track order", "Contact support"],
      products: ["Powder products", "Cube products", "Health benefits", "Place order"],
      order: ["Track order", "Order status", "Return policy", "Contact support"],
      cart: ["View cart", "Checkout", "Continue shopping", "Clear cart"],
      shipping: ["Track order", "Return policy", "Contact support", "View products"]
    },
    hi: {
      default: ["à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤¦à¥‡à¤–à¥‡à¤‚", "à¤¶à¤¿à¤ªà¤¿à¤‚à¤— à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€", "à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚", "à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚"],
      products: ["à¤ªà¤¾à¤‰à¤¡à¤° à¤‰à¤¤à¥à¤ªà¤¾à¤¦", "à¤•à¥à¤¯à¥‚à¤¬ à¤‰à¤¤à¥à¤ªà¤¾à¤¦", "à¤¸à¥à¤µà¤¾à¤¸à¥à¤¥à¥à¤¯ à¤²à¤¾à¤­", "à¤‘à¤°à¥à¤¡à¤° à¤•à¤°à¥‡à¤‚"],
      order: ["à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚", "à¤‘à¤°à¥à¤¡à¤° à¤¸à¥à¤¥à¤¿à¤¤à¤¿", "à¤°à¤¿à¤Ÿà¤°à¥à¤¨ à¤ªà¥‰à¤²à¤¿à¤¸à¥€", "à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚"],
      cart: ["à¤•à¤¾à¤°à¥à¤Ÿ à¤¦à¥‡à¤–à¥‡à¤‚", "à¤šà¥‡à¤•à¤†à¤‰à¤Ÿ", "à¤–à¤°à¥€à¤¦à¤¾à¤°à¥€ à¤œà¤¾à¤°à¥€ à¤°à¤–à¥‡à¤‚", "à¤•à¤¾à¤°à¥à¤Ÿ à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚"],
      shipping: ["à¤‘à¤°à¥à¤¡à¤° à¤Ÿà¥à¤°à¥ˆà¤• à¤•à¤°à¥‡à¤‚", "à¤°à¤¿à¤Ÿà¤°à¥à¤¨ à¤ªà¥‰à¤²à¤¿à¤¸à¥€", "à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚", "à¤‰à¤¤à¥à¤ªà¤¾à¤¦ à¤¦à¥‡à¤–à¥‡à¤‚"]
    },
    ta: {
      default: ["à®¤à®¯à®¾à®°à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆà®•à¯ à®•à®¾à®£à¯à®•", "à®·à®¿à®ªà¯à®ªà®¿à®™à¯ à®¤à®•à®µà®²à¯", "à®†à®°à¯à®Ÿà®°à¯ˆà®•à¯ à®•à®£à¯à®•à®¾à®£à®¿à®•à¯à®•à®µà¯à®®à¯", "à®†à®¤à®°à®µà¯ˆà®¤à¯ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à¯à®™à¯à®•à®³à¯"],
      products: ["à®ªà¯Šà®Ÿà®¿ à®¤à®¯à®¾à®°à®¿à®ªà¯à®ªà¯à®•à®³à¯", "à®•à¯à®¯à¯‚à®ªà¯ à®¤à®¯à®¾à®°à®¿à®ªà¯à®ªà¯à®•à®³à¯", "à®†à®°à¯‹à®•à¯à®•à®¿à®¯ à®¨à®©à¯à®®à¯ˆà®•à®³à¯", "à®†à®°à¯à®Ÿà®°à¯ à®šà¯†à®¯à¯à®¯à¯à®™à¯à®•à®³à¯"],
      order: ["à®†à®°à¯à®Ÿà®°à¯ˆà®•à¯ à®•à®£à¯à®•à®¾à®£à®¿à®•à¯à®•à®µà¯à®®à¯", "à®†à®°à¯à®Ÿà®°à¯ à®¨à®¿à®²à¯ˆ", "à®¤à®¿à®°à¯à®®à¯à®ªà®ªà¯ à®ªà¯†à®±à¯à®®à¯ à®•à¯Šà®³à¯à®•à¯ˆ", "à®†à®¤à®°à®µà¯ˆà®¤à¯ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à¯à®™à¯à®•à®³à¯"],
      cart: ["à®•à®¾à®°à¯à®Ÿà¯à®Ÿà¯ˆà®•à¯ à®•à®¾à®£à¯à®•", "à®šà¯†à®•à¯à®…à®µà¯à®Ÿà¯", "à®·à®¾à®ªà¯à®ªà®¿à®™à¯ à®¤à¯Šà®Ÿà®°à®µà¯à®®à¯", "à®•à®¾à®°à¯à®Ÿà¯à®Ÿà¯ˆ à®…à®´à®¿à®•à¯à®•à®µà¯à®®à¯"],
      shipping: ["à®†à®°à¯à®Ÿà®°à¯ˆà®•à¯ à®•à®£à¯à®•à®¾à®£à®¿à®•à¯à®•à®µà¯à®®à¯", "à®¤à®¿à®°à¯à®®à¯à®ªà®ªà¯ à®ªà¯†à®±à¯à®®à¯ à®•à¯Šà®³à¯à®•à¯ˆ", "à®†à®¤à®°à®µà¯ˆà®¤à¯ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à¯à®™à¯à®•à®³à¯", "à®¤à®¯à®¾à®°à®¿à®ªà¯à®ªà¯à®•à®³à¯ˆà®•à¯ à®•à®¾à®£à¯à®•"]
    },
    te: {
      default: ["à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à°¨à± à°šà±‚à°¡à°‚à°¡à°¿", "à°·à°¿à°ªà±à°ªà°¿à°‚à°—à± à°¸à°®à°¾à°šà°¾à°°à°‚", "à°†à°°à±à°¡à°°à±â€Œà°¨à± à°Ÿà±à°°à°¾à°•à± à°šà±‡à°¯à°‚à°¡à°¿", "à°®à°¦à±à°¦à°¤à±à°¨à± à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿"],
      products: ["à°ªà±Šà°¡à°¿ à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à±", "à°•à±à°¯à±‚à°¬à± à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à±", "à°†à°°à±‹à°—à±à°¯ à°ªà±à°°à°¯à±‹à°œà°¨à°¾à°²à±", "à°†à°°à±à°¡à°°à± à°šà±‡à°¯à°‚à°¡à°¿"],
      order: ["à°†à°°à±à°¡à°°à±â€Œà°¨à± à°Ÿà±à°°à°¾à°•à± à°šà±‡à°¯à°‚à°¡à°¿", "à°†à°°à±à°¡à°°à± à°¸à±à°¥à°¿à°¤à°¿", "à°°à°¿à°Ÿà°°à±à°¨à± à°µà°¿à°§à°¾à°¨à°‚", "à°®à°¦à±à°¦à°¤à±à°¨à± à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿"],
      cart: ["à°•à°¾à°°à±à°Ÿà±â€Œà°¨à± à°šà±‚à°¡à°‚à°¡à°¿", "à°šà±†à°•à±à°…à°µà±à°Ÿà±", "à°·à°¾à°ªà°¿à°‚à°—à± à°•à±Šà°¨à°¸à°¾à°—à°¿à°‚à°šà°‚à°¡à°¿", "à°•à°¾à°°à±à°Ÿà±â€Œà°¨à± à°•à±à°²à°¿à°¯à°°à± à°šà±‡à°¯à°‚à°¡à°¿"],
      shipping: ["à°†à°°à±à°¡à°°à±â€Œà°¨à± à°Ÿà±à°°à°¾à°•à± à°šà±‡à°¯à°‚à°¡à°¿", "à°°à°¿à°Ÿà°°à±à°¨à± à°µà°¿à°§à°¾à°¨à°‚", "à°®à°¦à±à°¦à°¤à±à°¨à± à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿", "à°‰à°¤à±à°ªà°¤à±à°¤à±à°²à°¨à± à°šà±‚à°¡à°‚à°¡à°¿"]
    }
    // Add more languages as needed following same pattern
  };

  const msgLower = message.toLowerCase();
  
  let context = 'default';
  if (msgLower.includes('product') || msgLower.includes('buy') || msgLower.includes('powder') || msgLower.includes('cube')) {
    context = 'products';
  } else if (msgLower.includes('order') || msgLower.includes('track')) {
    context = 'order';
  } else if (msgLower.includes('cart')) {
    context = 'cart';
  } else if (msgLower.includes('ship') || msgLower.includes('deliver')) {
    context = 'shipping';
  }

  const langReplies = quickRepliesMap[language] || quickRepliesMap.en;
  return langReplies[context] || langReplies.default;
}

// Fallback responses when Groq is not available - CORRECTED VERSION
function generateFallbackResponse(message, language = 'en') {
  const t = translations[language] || translations.en;
  const msgLower = message.toLowerCase();

  // Check for greeting/initial message
  if (msgLower.includes('hello') || msgLower.includes('hi') || msgLower.includes('hey') || 
      msgLower.includes('à®µà®£à®•à¯à®•à®®à¯') || msgLower.includes('à¤¨à¤®à¤¸à¥à¤¤à¥‡') || msgLower.includes('à°¨à°®à°¸à±à°•à°¾à°°à°‚') ||
      msgLower === 'start' || message.trim() === '') {
    return {
      message: t.greeting,
      quickReplies: generateQuickReplies('greeting', language)
    };
  }

  if (msgLower.includes('product') || msgLower.includes('powder') || msgLower.includes('cube')) {
    const productInfo = language === 'en' 
      ? "We offer premium Jaggery Powder and Jaggery Cubes in various sizes:\n\nðŸ¯ Powder: 1kg (â‚¹99), 2kg (â‚¹199), 3kg (â‚¹299), 5kg (â‚¹399)\nðŸ§Š Cubes: 1kg (â‚¹198), 2kg (â‚¹398), 3kg (â‚¹598), 5kg (â‚¹798)\n\nâœ¨ FREE shipping on orders above â‚¹299!"
      : t.greeting;
    return {
      message: productInfo,
      quickReplies: generateQuickReplies(message, language)
    };
  }

  if (msgLower.includes('ship') || msgLower.includes('deliver')) {
    return {
      message: t.faqs.shipping + ' ' + t.faqs.delivery,
      quickReplies: generateQuickReplies(message, language)
    };
  }

  if (msgLower.includes('track') || msgLower.includes('order')) {
    const orderMsg = language === 'en'
      ? "To track your order, please log in to your account and go to 'My Orders'. You can also contact our support team for assistance."
      : t.greeting;
    return {
      message: orderMsg,
      quickReplies: generateQuickReplies(message, language)
    };
  }

  if (msgLower.includes('contact') || msgLower.includes('support')) {
    const contactMsg = language === 'en'
      ? `You can reach us at:\nðŸ“ž Phone: ${t.contact.phone}\nðŸ“§ Email: ${t.contact.email}\nðŸ’¬ WhatsApp: ${t.contact.whatsapp}\nâ° ${t.contact.hours}`
      : `${t.contact.phone}\n${t.contact.email}\n${t.contact.whatsapp}\n${t.contact.hours}`;
    return {
      message: contactMsg,
      quickReplies: generateQuickReplies(message, language)
    };
  }

  // Default response for unrecognized messages
  return {
    message: t.greeting,
    quickReplies: generateQuickReplies(message, language)
  };
}

// ==================== CHATBOT ROUTES ====================

app.post('/api/chatbot/message', async (req, res) => {
  try {
    const { message, userId, language = 'en', conversationHistory = [] } = req.body;
    
    if (!message || typeof message !== 'string' || message.trim() === '') {
      return res.status(400).json({ 
        message: 'Message is required and must be a non-empty string',
        quickReplies: []
      });
    }

    const supportedLanguages = ['en', 'hi', 'ta', 'te', 'kn', 'ml', 'mr', 'bn', 'gu', 'pa', 'es', 'fr', 'de', 'ar'];
    const lang = supportedLanguages.includes(language) ? language : 'en';

    if (!GROQ_API_KEY || GROQ_API_KEY.trim() === '') {
      console.log('âš ï¸ GROQ_API_KEY not configured. Using fallback responses.');
      const fallbackResponse = generateFallbackResponse(message, lang);
      return res.json(fallbackResponse);
    }

    try {
      const systemPrompt = await buildSystemPrompt(userId, lang);

      const messages = [
        ...conversationHistory.map(msg => ({
          role: msg.sender === 'user' ? 'user' : 'assistant',
          content: msg.text
        })),
        { role: 'user', content: message }
      ];

      const aiResponse = await callGroqAPI(messages, systemPrompt);
      const quickReplies = generateQuickReplies(message, lang);

      res.json({
        message: aiResponse,
        quickReplies: quickReplies
      });

    } catch (groqError) {
      console.error('Groq API Error Details:', {
        message: groqError.message,
        response: groqError.response?.data,
        status: groqError.response?.status
      });
      
      console.log('âš ï¸ Groq API failed. Using fallback response.');
      const fallbackResponse = generateFallbackResponse(message, lang);
      return res.json(fallbackResponse);
    }

  } catch (error) {
    console.error('Chatbot endpoint error:', {
      message: error.message,
      stack: error.stack
    });
    
    const errorMessages = {
      en: "I'm having trouble right now. Please try again or contact our support team.",
      hi: "à¤®à¥à¤à¥‡ à¤…à¤­à¥€ à¤ªà¤°à¥‡à¤¶à¤¾à¤¨à¥€ à¤¹à¥‹ à¤°à¤¹à¥€ à¤¹à¥ˆà¥¤ à¤•à¥ƒà¤ªà¤¯à¤¾ à¤ªà¥à¤¨à¤ƒ à¤ªà¥à¤°à¤¯à¤¾à¤¸ à¤•à¤°à¥‡à¤‚ à¤¯à¤¾ à¤¹à¤®à¤¾à¤°à¥€ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤Ÿà¥€à¤® à¤¸à¥‡ à¤¸à¤‚à¤ªà¤°à¥à¤• à¤•à¤°à¥‡à¤‚à¥¤",
      ta: "à®Žà®©à®•à¯à®•à¯ à®‡à®ªà¯à®ªà¯‹à®¤à¯ à®šà®¿à®•à¯à®•à®²à¯ à®‰à®³à¯à®³à®¤à¯. à®®à¯€à®£à¯à®Ÿà¯à®®à¯ à®®à¯à®¯à®±à¯à®šà®¿à®•à¯à®•à®µà¯à®®à¯ à®…à®²à¯à®²à®¤à¯ à®Žà®™à¯à®•à®³à¯ à®†à®¤à®°à®µà¯ à®•à¯à®´à¯à®µà¯ˆ à®¤à¯Šà®Ÿà®°à¯à®ªà¯ à®•à¯Šà®³à¯à®³à®µà¯à®®à¯.",
      te: "à°¨à°¾à°•à± à°‡à°ªà±à°ªà±à°¡à± à°‡à°¬à±à°¬à°‚à°¦à°¿ à°‰à°‚à°¦à°¿. à°¦à°¯à°šà±‡à°¸à°¿ à°®à°³à±à°²à±€ à°ªà±à°°à°¯à°¤à±à°¨à°¿à°‚à°šà°‚à°¡à°¿ à°²à±‡à°¦à°¾ à°®à°¾ à°®à°¦à±à°¦à°¤à± à°¬à±ƒà°‚à°¦à°¾à°¨à±à°¨à°¿ à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿."
    };
    const lang = req.body.language || 'en';
    res.status(500).json({ 
      message: errorMessages[lang] || errorMessages.en,
      quickReplies: []
    });
  }
});

// Get supported languages
app.get('/api/chatbot/languages', async (req, res) => {
  try {
    res.json({
      languages: [
        // Indian Languages
        { code: 'en', name: 'English', nativeName: 'English', flag: 'ðŸ‡¬ðŸ‡§' },
        { code: 'hi', name: 'Hindi', nativeName: 'à¤¹à¤¿à¤‚à¤¦à¥€', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'ta', name: 'Tamil', nativeName: 'à®¤à®®à®¿à®´à¯', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'te', name: 'Telugu', nativeName: 'à°¤à±†à°²à±à°—à±', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'kn', name: 'Kannada', nativeName: 'à²•à²¨à³à²¨à²¡', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'ml', name: 'Malayalam', nativeName: 'à´®à´²à´¯à´¾à´³à´‚', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'mr', name: 'Marathi', nativeName: 'à¤®à¤°à¤¾à¤ à¥€', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'bn', name: 'Bengali', nativeName: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'gu', name: 'Gujarati', nativeName: 'àª—à«àªœàª°àª¾àª¤à«€', flag: 'ðŸ‡®ðŸ‡³' },
        { code: 'pa', name: 'Punjabi', nativeName: 'à¨ªà©°à¨œà¨¾à¨¬à©€', flag: 'ðŸ‡®ðŸ‡³' },
        // International Languages
        { code: 'es', name: 'Spanish', nativeName: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸' },
        { code: 'fr', name: 'French', nativeName: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·' },
        { code: 'de', name: 'German', nativeName: 'Deutsch', flag: 'ðŸ‡©ðŸ‡ª' },
        { code: 'ar', name: 'Arabic', nativeName: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦' }
      ]
    });
  } catch (error) {
    res.status(500).json({ message: 'Error fetching languages' });
  }
});

// ==================== AUTH ROUTES ====================

app.post('/api/auth/signup', async (req, res) => {
  try {
    const { name, email, password } = req.body;
    const [existing] = await db.select().from(users).where(eq(users.email, email));
    if (existing) return res.status(400).json({ message: 'Email exists' });

    const hashedPassword = await bcrypt.hash(password, 10);
    const [newUser] = await db.insert(users).values({ name, email, password: hashedPassword }).returning();
    
    const token = jwt.sign({ userId: newUser.id }, JWT_SECRET, { expiresIn: '7d' });
    res.status(201).json({ token, user: { id: newUser.id, name: newUser.name, email: newUser.email } });
  } catch (error) {
    res.status(500).json({ message: 'Signup error' });
  }
});

app.post('/api/auth/login', async (req, res) => {
  try {
    const { email, password } = req.body;
    const [user] = await db.select().from(users).where(eq(users.email, email));
    if (!user || !(await bcrypt.compare(password, user.password))) {
      return res.status(401).json({ message: 'Invalid credentials' });
    }
    const token = jwt.sign({ userId: user.id }, JWT_SECRET, { expiresIn: '7d' });
    res.json({ token, user: { id: user.id, name: user.name, email: user.email } });
  } catch (error) {
    res.status(500).json({ message: 'Login error' });
  }
});

app.get('/api/auth/me', authenticateToken, async (req, res) => {
  try {
    res.json({ 
      user: { 
        id: req.user.id, 
        name: req.user.name, 
        email: req.user.email 
      } 
    });
  } catch (error) {
    res.status(500).json({ message: 'Error fetching user' });
  }
});

// ==================== CART ROUTES ====================

app.get('/api/cart', authenticateToken, async (req, res) => {
  try {
    const items = await db.select().from(cartItems).where(eq(cartItems.userId, req.user.id));
    res.json({ items });
  } catch (error) {
    res.status(500).json({ message: 'Cart fetch error' });
  }
});

app.post('/api/cart', authenticateToken, async (req, res) => {
  try {
    const { items } = req.body;
    await db.delete(cartItems).where(eq(cartItems.userId, req.user.id));
    if (items?.length > 0) {
      await db.insert(cartItems).values(items.map(i => ({ ...i, userId: req.user.id, productId: i.id })));
    }
    res.json({ message: 'Cart synced' });
  } catch (error) {
    res.status(500).json({ message: 'Cart update error' });
  }
});

// ==================== ORDER ROUTES ====================

app.post('/api/orders', authenticateToken, async (req, res) => {
  try {
    const { items, shippingAddress, paymentMethod, totalAmount } = req.body;
    const [order] = await db.insert(orders).values({
      userId: req.user.id,
      items,
      shippingAddress,
      paymentMethod: paymentMethod || 'cod',
      totalAmount: totalAmount.toString()
    }).returning();
    
    await db.delete(cartItems).where(eq(cartItems.userId, req.user.id));
    res.status(201).json({ message: 'Order placed', order });
  } catch (error) {
    res.status(500).json({ message: 'Order error' });
  }
});

app.get('/api/orders', authenticateToken, async (req, res) => {
  try {
    const userOrders = await db.select()
      .from(orders)
      .where(eq(orders.userId, req.user.id))
      .orderBy(desc(orders.createdAt));
    res.json({ orders: userOrders });
  } catch (error) {
    res.status(500).json({ message: 'Error fetching orders' });
  }
});

// ==================== HEALTH & START ====================

app.get('/api/health', async (req, res) => {
  try {
    const result = await sql`SELECT now()`;
    res.json({ status: 'OK', time: result[0].now });
  } catch (error) {
    res.status(500).json({ status: 'ERROR', message: error.message });
  }
});

app.listen(PORT, () => {
  console.log(`ðŸš€ Server running on port ${PORT}`);
  console.log(`ðŸ“ GROQ_API_KEY configured: ${GROQ_API_KEY ? 'YES âœ…' : 'NO âŒ (using fallback responses)'}`);
  console.log(`ðŸŒ Supported languages: 14 (9 Indian + 5 International)`);
});

module.exports = app;
